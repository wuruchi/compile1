---
title: "Autosumit GUI: A ReactJS-based Graphical User Interface to Monitor Experiments in a High Performance Computing Environment"
tags:
  - Python
  - High Performance Computing
  - Workflow Manager
authors:
  - name: Wilmer V. Uruchi Ticona ##^[Custom footnotes for e.g. denoting who the corresponding author is can be included like this.]
    ## orcid: 0000-0003-0872-7098
    affiliation: 1 ##"1, 2" # (Multiple affiliations must be quoted)
  - name: Miguel Castrillo
    affiliation: 1
  - name: Daniel Beltr√°n
    affiliation: 1
affiliations:
  - name: Barcelona Supercomputing Center
    index: 1
date: 26 November 2020
bibliography: paper.bib
# Optional fields if submitting to a AAS journal too, see this blog post:
# https://blog.joss.theoj.org/2018/12/a-new-collaboration-with-aas-publishing
# aas-doi: 10.3847/xxxxx <- update this with the DOI from AAS once you know it.
# aas-journal: Astrophysical Journal <- The name of the AAS journal.
---

# Summary

`Autosubmit GUI` is a front-end software developed using `Javascript` and `ReactJS` that aims to show complex
information from the execution of the experiments' workflow (managed by `Autosubmit`) in a **High-Performance Computing (HPC)**.
`Autosubmit` [@autosubmit] is a Python-based workflow manager that handles complex tasks involving different sub-steps (e.g., scientific computational experiments). These tasks may be executed in one or many other computing systems (platforms), from _High-Performance Computers_ to small clusters or workstations. This workflow manager can orchestrate the tasks (jobs) that constitute the workflow while respecting their dependencies, handling errors, and retrieving remote logs, among other features.

This front-end software consumes information served by an **API** (`Autosubmit API` [@api]) that collects information from the execution of the workflow of experiments.
An experiment consists of jobs that are executed on the selected platforms following an established sequence. The execution of an experiment and its jobs generates a high amount of information that needs to be visualized later by users. `Autosubmit API` summarizes this information and presents it as API requests. `Autosubmit GUI` consumes these API requests and shows the information available in a condensed, comprehensive, and dinamic way. `Autosubmit GUI` uses three highly popular and useful libraries: `FancyTree` [@fancytree], `vis.js` [@visjs], and `react-google-charts` [@reactgoogle]; among other web resources that facilitate the visualization of information and information updates.

# Statement of need

The number of jobs in an experiment workflow (managed by `Autosubmit`) ranges from one job to several thousands, where the jobs can vary in the kind of task they perform, from data retrieval to complex climate simulation. The result of the execution of an experiment workflow is usually large amounts of information scattered in a file system.
Originally, this information was accessed through the file system or by using terminal commands (provided by `Autosubmit`) to get the information as a `text`, `pdf` file, or terminal output. The _Computational Earth Science_ team decided that a better way to access this information without risking unreliability nor loss of performance was needed. A web application was chosen as the solution architecture that would enable us to deploy this service easily and with minimum requirements for our users. Furthermore, this choice would allow developers to reuse existing technology, in the form of open-source visualization libraries, to allow `Autosubmit GUI` to show information in a graphical way. The software has been designed and is developed following a efficiency first premise, since the amount of information we need to show is considerable and we aim to maintain minor loading times.

The main experiment workflow representation generated by the users of `Autosubmit` was a graph generated through graphviz in a `pdf` file. Consequently, that was the first representation we tried to mimic in `Autosubmit GUI`. For this purpose we chose `vis.js`, a proven javascript library that provides graph representations for the provided data. This library also provides a rich API through which we can manipulate it and dinamically update it. In our implementation we present several ways to access the `vis.js` objects and adapt them to our necessities in concordancen with the requirements of _ReactJS_, we avoid unnecessary refreshes of the graph component by storing it in the React internal state. We believe that this can serve as a guide to those willing to work with graph representations in a web environment.

Later, `Autosubmit GUI` was required to implement an experiment workflow representation that showed more information at first glance, and that arranged the jobs in a hierarchical way. As a result, we decided to implement a tree view based on `FancyTree`, a Javascript library. This library provides a rich API that allowed us to implement a structured visualization of the experiment workflow. Again, we adapted this library to work smoothly with _ReactJS_ and that is updated efficiently through the internal component infrastructure. It is also a good example on how to use the tools provided by this library. Moreover, statistics are shown using `react-google-charts`.

Finally, a word on our programming language and framework choice. _Javascript_ was the obvious, and perhaps required, choice in this respect. This programming language has taken over the web and is becoming an standard, for better or worse. For our front-end purpose, it has all the tools that we needed and gives us access to a variety of useful extensiones. The main vision of `Autosubmit GUI` was to developed a graphical interface that showed as much information as possible at first glance; moreover, this interface should be scalable, with more requirements of information taking an area of the browser window. It was decided that the interface should be divided in modules that would be displayed in a tiled design. The interface should be able to update the modules (tiles) individually and independently without affecting general performance. _ReactJS_ provides the tools to accomplish this purpose, where we can translate our idea of modules to components. So, it was the chosen framework.

# Main features

![Autosubmit GUI main window.\label{fig:mainwindow}](mainwindow.jpg)

- Users can search for experiments that match certain criteria: Currently active experiments (those being executed), experiments belonging to a certain user, description of experiments that contain certain word, and other filters. The result is presented in a main window \autoref{fig:mainwindow} where the experiment progress is displayed for each result along other relevant information. Each experiment item in the result gives direct access to the experiment representation (tree view by default) or a quick view which displays only the most important information. There is an option, from the experiment item, to see only a summary of the current progress of the experiment.

- User can see the representation of their experiment in three ways with some variations:
  - Tree View \autoref{fig:treeview}: Uses `FancyTree` to present the experiment jobs in a structured and hierarchical fashion.
  - Graph View \autoref{fig:graphview}: Uses `vis.js` to present the experiment jobs in a graph.
  - Quick View: Uses `FancyTree` to present a browsable list of the experiment jobs.

![Tree View.\label{fig:treeview}](treeview.jpg)

![Graph View.\label{fig:graphview}](graphview.jpg)

- All experiment representations allow search of jobs by name, or by patterns in the name using the `*` wildcard.
- The graph view allows the user to select some nodes (jobs) and generate a command through the `Change Status` button.
- The graph view presents variations of the representation for ease of usage.
- The graph and tree views allow the user to see detailed information of a job by clicking on the node or item.
- The tree view allows the user to select some items (jobs) and generate a command through the `Activate Selection Mode` button.
- `ACTIVE` experiments (shown at the top of the page next to the experiment identifier) can update the representation (graph or tree) according to changes in real time through the `Start Job Monitor` option. This functionality doesn't prompt a full component rerender, instead, the nodes or items are update individually and independently.
- The last lines of the log of the experiment can be visualized.
- Statistics of the workflow execution are provided through the `Statistics` tab using `react-google-charts`.
- Performance metrics of the experiment are displayed in the `Performance` tab.
- Historical data is displayed for individual jobs through a button next to the job's name in the selection tile.

<!-- # Citations -->

<!-- Work in progress -->

<!-- If you want to cite a software repository URL (e.g. something on GitHub without a preferred
citation) then you can do it with the example BibTeX entry below for @fidgit.

For a quick reference, the following citation commands can be used. -->

<!-- # Figures

Work in progress. -->

# Acknowledgements

We acknowledge contributions from Francisco Doblas-Reyes, Kim Serradell and all our Earth Science Department users.

# References
